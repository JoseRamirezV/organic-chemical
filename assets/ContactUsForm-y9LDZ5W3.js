import{u as me,a as pe,r as h,c as fe,f as w,b as R,j as c,B as he,d as I,e as O,g as B,o as F,m as z,h as j,i as $,k as H,l as V,n as be,p as ye,q as P,G as D,s as A,T as ge,t as E,P as S}from"./index-qg5d3Oe-.js";function ve(e){const{theme:s}=me(),a=pe();return h.useMemo(()=>fe(s.direction,{...a,...e}),[e,s.direction,a])}var xe={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},ke={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},J=w(function(s,a){const{size:r,colorScheme:t,variant:o,className:i,spacing:d="0.5rem",isAttached:l,isDisabled:u,orientation:n="horizontal",...p}=s,m=R("chakra-button__group",i),y=h.useMemo(()=>({size:r,colorScheme:t,variant:o,isDisabled:u}),[r,t,o,u]);let g={display:"inline-flex",...l?xe[n]:ke[n](d)};const v=n==="vertical";return c.jsx(he,{value:y,children:c.jsx(I.div,{ref:a,role:"group",__css:g,className:m,"data-attached":l?"":void 0,"data-orientation":n,flexDir:v?"column":void 0,...p})})});J.displayName="ButtonGroup";var[je,U]=O({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[we,L]=O({strict:!1,name:"FormControlContext"});function Re(e){const{id:s,isRequired:a,isInvalid:r,isDisabled:t,isReadOnly:o,...i}=e,d=h.useId(),l=s||`field-${d}`,u=`${l}-label`,n=`${l}-feedback`,p=`${l}-helptext`,[m,y]=h.useState(!1),[g,v]=h.useState(!1),[x,M]=h.useState(!1),ie=h.useCallback((f={},k=null)=>({id:p,...f,ref:z(k,N=>{N&&v(!0)})}),[p]),le=h.useCallback((f={},k=null)=>({...f,ref:k,"data-focus":j(x),"data-disabled":j(t),"data-invalid":j(r),"data-readonly":j(o),id:f.id!==void 0?f.id:u,htmlFor:f.htmlFor!==void 0?f.htmlFor:l}),[l,t,x,r,o,u]),ce=h.useCallback((f={},k=null)=>({id:n,...f,ref:z(k,N=>{N&&y(!0)}),"aria-live":"polite"}),[n]),de=h.useCallback((f={},k=null)=>({...f,...i,ref:k,role:"group","data-focus":j(x),"data-disabled":j(t),"data-invalid":j(r),"data-readonly":j(o)}),[i,t,x,r,o]),ue=h.useCallback((f={},k=null)=>({...f,ref:k,role:"presentation","aria-hidden":!0,children:f.children||"*"}),[]);return{isRequired:!!a,isInvalid:!!r,isReadOnly:!!o,isDisabled:!!t,isFocused:!!x,onFocus:()=>M(!0),onBlur:()=>M(!1),hasFeedbackText:m,setHasFeedbackText:y,hasHelpText:g,setHasHelpText:v,id:l,labelId:u,feedbackId:n,helpTextId:p,htmlProps:i,getHelpTextProps:ie,getErrorMessageProps:ce,getRootProps:de,getLabelProps:le,getRequiredIndicatorProps:ue}}var W=w(function(s,a){const r=B("Form",s),t=F(s),{getRootProps:o,htmlProps:i,...d}=Re(t),l=R("chakra-form-control",s.className);return c.jsx(we,{value:d,children:c.jsx(je,{value:r,children:c.jsx(I.div,{...o({},a),className:l,__css:r.container})})})});W.displayName="FormControl";var Ie=w(function(s,a){const r=L(),t=U(),o=R("chakra-form__helper-text",s.className);return c.jsx(I.div,{...r==null?void 0:r.getHelpTextProps(s,a),__css:t.helperText,className:o})});Ie.displayName="FormHelperText";var T=w(function(s,a){var r;const t=$("FormLabel",s),o=F(s),{className:i,children:d,requiredIndicator:l=c.jsx(Q,{}),optionalIndicator:u=null,...n}=o,p=L(),m=(r=p==null?void 0:p.getLabelProps(n,a))!=null?r:{ref:a,...n};return c.jsxs(I.label,{...m,className:R("chakra-form__label",o.className),__css:{display:"block",textAlign:"start",...t},children:[d,p!=null&&p.isRequired?l:u]})});T.displayName="FormLabel";var Q=w(function(s,a){const r=L(),t=U();if(!(r!=null&&r.isRequired))return null;const o=R("chakra-form__required-indicator",s.className);return c.jsx(I.span,{...r==null?void 0:r.getRequiredIndicatorProps(s,a),__css:t.requiredIndicator,className:o})});Q.displayName="RequiredIndicator";function X(e){const{isDisabled:s,isInvalid:a,isReadOnly:r,isRequired:t,...o}=Se(e);return{...o,disabled:s,readOnly:r,required:t,"aria-invalid":H(a),"aria-required":H(t),"aria-readonly":H(r)}}function Se(e){var s,a,r;const t=L(),{id:o,disabled:i,readOnly:d,required:l,isRequired:u,isInvalid:n,isReadOnly:p,isDisabled:m,onFocus:y,onBlur:g,...v}=e,x=e["aria-describedby"]?[e["aria-describedby"]]:[];return t!=null&&t.hasFeedbackText&&(t!=null&&t.isInvalid)&&x.push(t.feedbackId),t!=null&&t.hasHelpText&&x.push(t.helpTextId),{...v,"aria-describedby":x.join(" ")||void 0,id:o??(t==null?void 0:t.id),isDisabled:(s=i??m)!=null?s:t==null?void 0:t.isDisabled,isReadOnly:(a=d??p)!=null?a:t==null?void 0:t.isReadOnly,isRequired:(r=l??u)!=null?r:t==null?void 0:t.isRequired,isInvalid:n??(t==null?void 0:t.isInvalid),onFocus:V(t==null?void 0:t.onFocus,y),onBlur:V(t==null?void 0:t.onBlur,g)}}var[_e,We]=O({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),C=w(function(s,a){const r=B("Input",s),{children:t,className:o,...i}=F(s),d=R("chakra-input__group",o),l={},u=be(t),n=r.field;u.forEach(m=>{var y,g;r&&(n&&m.type.id==="InputLeftElement"&&(l.paddingStart=(y=n.height)!=null?y:n.h),n&&m.type.id==="InputRightElement"&&(l.paddingEnd=(g=n.height)!=null?g:n.h),m.type.id==="InputRightAddon"&&(l.borderEndRadius=0),m.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const p=u.map(m=>{var y,g;const v=ye({size:((y=m.props)==null?void 0:y.size)||s.size,variant:((g=m.props)==null?void 0:g.variant)||s.variant});return m.type.id!=="Input"?h.cloneElement(m,v):h.cloneElement(m,Object.assign(v,l,m.props))});return c.jsx(I.div,{className:d,ref:a,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...i,children:c.jsx(_e,{value:r,children:p})})});C.displayName="InputGroup";var _=w(function(s,a){const{htmlSize:r,...t}=s,o=B("Input",t),i=F(t),d=X(i),l=R("chakra-input",s.className);return c.jsx(I.input,{size:r,...d,__css:o.field,ref:a,className:l})});_.displayName="Input";_.id="Input";function Fe(e,s=[]){const a=Object.assign({},e);for(const r of s)r in a&&delete a[r];return a}var Te=["h","minH","height","minHeight"],Y=w((e,s)=>{const a=$("Textarea",e),{className:r,rows:t,...o}=F(e),i=X(o),d=t?Fe(a,Te):a;return c.jsx(I.textarea,{ref:s,rows:t,...i,className:R("chakra-textarea",r),__css:d})});Y.displayName="Textarea";const b={origin:"https://api.emailjs.com",blockHeadless:!1},G=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},Ce=(e,s="https://api.emailjs.com")=>{if(!e)return;const a=G(e);b.publicKey=a.publicKey,b.blockHeadless=a.blockHeadless,b.blockList=a.blockList,b.limitRate=a.limitRate,b.origin=a.origin||s};class q{constructor(s=0,a="Network Error"){this.status=s,this.text=a}}const Z=async(e,s,a={})=>{const r=await fetch(b.origin+e,{method:"POST",headers:a,body:s}),t=await r.text(),o=new q(r.status,t);if(r.ok)return o;throw o},ee=(e,s,a)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s||typeof s!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a||typeof a!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Pe=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},te=e=>e.webdriver||!e.languages||e.languages.length===0,se=()=>new q(451,"Unavailable For Headless Browser"),Le=(e,s)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof s!="string")throw"The BlockList watchVariable has to be a string"},qe=e=>{var s;return!((s=e.list)!=null&&s.length)||!e.watchVariable},Ne=(e,s)=>e instanceof FormData?e.get(s):e[s],ae=(e,s)=>{if(qe(e))return!1;Le(e.list,e.watchVariable);const a=Ne(s,e.watchVariable);return typeof a!="string"?!1:e.list.includes(a)},re=()=>new q(403,"Forbidden"),He=(e,s)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(s&&typeof s!="string")throw"The LimitRate ID has to be a string"},Ee=(e,s,a)=>{const r=Number(a.getItem(e)||0);return s-Date.now()+r},K=(e,s,a)=>{setTimeout(()=>{a.removeItem(e)},s)},oe=(e,s,a)=>{if(!a.throttle)return!1;He(a.throttle,a.id);const r=a.id||s,t=Ee(r,a.throttle,e);return t>0?(K(r,t,e),!0):(e.setItem(r,Date.now().toString()),K(r,a.throttle,e),!1)},ne=()=>new q(429,"Too Many Requests"),Oe=(e,s,a,r)=>{const t=G(r),o=t.publicKey||b.publicKey,i=t.blockHeadless||b.blockHeadless,d={...b.blockList,...t.blockList},l={...b.limitRate,...t.limitRate};return i&&te(navigator)?Promise.reject(se()):(ee(o,e,s),Pe(a),a&&ae(d,a)?Promise.reject(re()):oe(localStorage,location.pathname,l)?Promise.reject(ne()):Z("/api/v1.0/email/send",JSON.stringify({lib_version:"4.1.0",user_id:o,service_id:e,template_id:s,template_params:a}),{"Content-type":"application/json"}))},Be=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},De=e=>typeof e=="string"?document.querySelector(e):e,Ge=(e,s,a,r)=>{const t=G(r),o=t.publicKey||b.publicKey,i=t.blockHeadless||b.blockHeadless,d={...b.blockList,...t.blockList},l={...b.limitRate,...t.limitRate};if(i&&te(navigator))return Promise.reject(se());const u=De(a);ee(o,e,s),Be(u);const n=new FormData(u);return ae(d,n)?Promise.reject(re()):oe(localStorage,location.pathname,l)?Promise.reject(ne()):(n.append("lib_version","4.1.0"),n.append("service_id",e),n.append("template_id",s),n.append("user_id",o),Z("/api/v1.0/email/send-form",n))},Me={init:Ce,send:Oe,sendForm:Ge},ze=async e=>{const s="service_lw6cin2",a="template_q8aw1r7",r="P4rB67Q88cDXDu4eC",t=e.currentTarget;try{const o=await Me.sendForm(s,a,t,{publicKey:r});if(t.reset(),o.status!==200)throw new Error;return{status:"success"}}catch{return{status:"failed"}}},Ve=({states:e,lan:s})=>{const a=ve(),[r,t]=h.useState(e.normal);return{emailReqState:r,sendEmail:async i=>{if(t(e.loading),window.localStorage.getItem("email-sent")){const[n,p]=P[s].emailAlreadySent.split(";");a({title:n,status:"info",description:p,isClosable:!0,duration:1e4}),t(e.failed);return}const{status:d}=await ze(i);d==="success"&&(window.localStorage.setItem("email-sent",!0),t(e.success)),d==="error"&&(window.localStorage.setItem("email-cant-send",!0),t(e.failed));const[l,u]=P[s].emailRequestStates[`${d}Message`].split(";");a({title:l,status:d,description:u,isClosable:!0,duration:d==="success"?3e3:1e4})}}};function Ae(e){return D({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M416 128L192 384l-96-96"}}]})(e)}function Ke(e){return D({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144m224 0L144 368"}}]})(e)}function $e(e){return D({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 464l480-208L16 48v160l320 48-320 48z"}}]})(e)}function Je({initialFocusRef:e,onClose:s,lan:a}){const{formData:r,emailRequestStates:t}=P[a],o={normal:{status:"normal",text:t.normal,icon:c.jsx($e,{})},success:{status:"success",text:t.success,description:"Your message was sent successfully",icon:c.jsx(Ae,{})},failed:{status:"failed",text:t.failed,icon:c.jsx(Ke,{})},loading:{status:"loading",text:t.loading}},{emailReqState:i,sendEmail:d}=Ve({states:o,lan:a}),l=n=>{n.preventDefault(),!window.localStorage.getItem("email-cant-send")&&d(n)},u={bg:"gray.600",px:4,py:2,required:!0};return c.jsxs(W,{as:"form",display:"flex",flexDirection:"column",gap:2,onSubmit:l,children:[c.jsxs(C,{flexDirection:"column",variant:"unstyled",children:[c.jsx(T,{my:1,children:r.name}),c.jsx(_,{type:"text",name:"user_name",id:"user_name",placeholder:r.namePlaceholder,sx:{"&::-webkit-input-placeholder":{color:"gray.400"}},...u,ref:e})]}),c.jsxs(C,{flexDirection:"column",variant:"unstyled",children:[c.jsx(T,{my:1,children:r.email}),c.jsx(_,{type:"email",name:"user_email",id:"user_email",sx:{"&::-webkit-input-placeholder":{color:"gray.400"}},...u,placeholder:r.emailPlaceholder})]}),c.jsxs(C,{flexDirection:"column",variant:"unstyled",children:[c.jsx(T,{my:1,children:r.message}),c.jsx(Y,{name:"message",id:"message",placeholder:r.messagePlaceholder,sx:{"&::-webkit-scrollbar-track":{bg:A},"&::-webkit-scrollbar-thumb":{borderColor:A},"&::-webkit-input-placeholder":{color:"gray.400"}},resize:"none",...u})]}),c.jsx(_,{type:"text",name:"from_name",value:"Chemical Group Page",hidden:!0,readOnly:!0}),c.jsxs(J,{justifyContent:"end",size:"sm",mt:1,children:[i.status===o.failed.status&&c.jsx(ge,{label:`${P[a].emailRequestStates.normal} email`,children:c.jsx(E,{as:"a",variant:"solid",colorScheme:"blackAlpha",me:"auto",href:"mailto:jr.ramirez.varon@gmail.com",children:r.email})}),c.jsx(E,{colorScheme:"gray",onClick:s,children:r.cancel}),c.jsx(E,{colorScheme:i.status!==o.failed.status?"green":"red",type:"submit",isLoading:i.status===o.loading.status,loadingText:i.status===o.loading.status&&i.text,isDisabled:i.status===o.success.status||i.status===o.failed.status,rightIcon:i.icon,spinnerPlacement:"end",children:o[i.status].text})]})]})}Je.propTypes={initialFocusRef:S.oneOfType([S.func,S.shape({current:S.instanceOf(Element)})]),onClose:S.func,lan:S.string};export{Je as default};
